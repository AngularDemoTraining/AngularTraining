<div class="container-fluid">
    <button class="btn btn-outline-primary" (click)="onCreate()">Thêm tài khoản</button> |
    <button class="btn btn-outline-primary" (click)="openModal('custom-modal-2')">Đổi mật khẩu</button>
    <table class="table main">
        <thead class="thead-dark">
            <tr>
                <th scope="col">ID</th>
                <th scope="col">email</th>
                <th scope="col">phone</th>
                <th scope="col">fullname</th>
                <th scope="col">role</th>
                <th scope="col">#</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let row of listItem">
                <td>{{row.id}}</td>
                <td>{{row.email}}</td>
                <td>{{row.phone}}</td>
                <td>{{row.fullname}}</td>
                <td>{{row.role}}</td>
                <td>
                    <button class="btn btn-danger" (click)="AnswerDelete(row)">Xoá</button> |
                    <button class="btn btn-success" (click)="onUpdate(row)">Cập nhật</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<jw-modal id="custom-modal-1">
    <div class="content">
        <h2>register</h2>
        <form>
            <div class="form-group">
                <label>Full Name:</label>
                <input type="text" id="fullname" class="form-control" name="fullname" [(ngModel)]="detailItem.fullname" required>
            </div>
            <div class="form-group">
                <label>Email:</label>
                <input type="email" id="email" class="form-control" name="email" [(ngModel)]="detailItem.email" required email>
            </div>
            <div class="form-group" *ngIf="detailItem.id == 0">
                <label>Password:</label>
                <input type="password" id="password" class="form-control" name="password" [(ngModel)]="detailItem.password" required>
            </div>
            <div class="form-group">
                <label>Phone:</label>
                <input type="tel" id="phone" class="form-control" name="phone" [(ngModel)]="detailItem.phone" required>
            </div>
            <div class="form-group">
                <label>Role</label>
                <select id="role" class="form-control" name="role" [(ngModel)]="detailItem.role">
                    <option value = "user" >User</option>   
                    <option value = "admin" >Admin</option>
                </select>
            </div>
            <button class="btn btn-primary" type="submit" (click)="onSave()">OK</button>
        </form>
        <button class="btn btn-danger" (click)="closeModal('custom-modal-1');">Close</button>
    </div>
</jw-modal>

<jw-modal id="custom-modal-2">
    <form>
        <div class="form-group">
            <label>Current Password</label>
            <input type="password" class="form-control" name="currentPassword" [(ngModel)]="passwordItem.currentPassword" required>
        </div>
        <div class="form-group">
            <label>New Password</label>
            <input type="password" class="form-control" name="newPassword" [(ngModel)]="passwordItem.password" required>
        </div>
        <div class="form-group">
            <label>RePassword</label>
            <input type="password" class="form-control" name="rePassword" [(ngModel)]="passwordItem.rePassword" required>
        </div>
        <button class="btn btn-primary" type="submit" (click)="onUpdatePassword()">Save</button>
    </form>
    <button class="btn btn-danger" (click)="closeModal('custom-modal-2');">Close</button>
</jw-modal>

<jw-modal id="custom-modal-3">
    Bạn có chắc muốn xá user :{{deleteItem.fullname}}
    <br />
    <button class="btn btn-primary" type="submit" (click)="onDelete()">OK</button>
    <button class="btn btn-danger" (click)="closeModal('custom-modal-3');">Close</button>
</jw-modal>